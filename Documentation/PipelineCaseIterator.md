# Pipeline Case Iterator

Pipeline Case Iterator is a Slicer extension that allows for automated running of a pipeline over data in a csv file via a GUI interface.

## Quick Start

1. Select the pipeline you want to run in the `Pipeline Case Iterator` module.
2. Select the csv file containing the cases you want to run the pipeline on. If this is the first time you are running the pipeline, you can use the **Template Parameter File** button to create a stub csv file, for types that are nodes an path to the file should be given.
3. Select the output directory where you want the results to be saved. The output directory will contain all the results of the pipeline, as well as a `.csv` file with the appropriate input and output parameters for each row.
4. Optionally select an output extension for the files generated by the pipeline. A prefix and suffix and an timestamp can also be added to the output files.
5. Press **Run** to run the pipeline on all the cases in the csv file.

## Setting up a run

The `PipelineCaseIterator` module allows for the automated running of a pipeline over a set of cases. The module requires a pipeline to be selected, a csv file containing the cases to be run, and an output directory where the results will be saved.

The _Select_ button will bring up a a dialog to select the pipeline that you want to run. The inputs for the pipeline will be determined by a `.cvs` file containing the cases to be run.

Once you have set the output directory you are ready to run the pipeline. The output directory will contain all the results of the pipeline, as well as a `.csv` file with the appropriate input and output parameters for each row.

### CSV File

The input `.csv` file should contain a header row with the names of the parameters in the respective column. If you are unsure you can use the _Create Template Parameter File_ button to create a stub `.csv` file with the appropriate headers. The file created via the button will not only name the paramter for the column but will also include the type of the respective parameter in the form `<name>:<type>`. The type is informational and not required when you label your own `.csv` file.

For any type except node types all you need to do is to fill in the values for the parameters in the respective columns. For node types you need to provide a path to the file containing the node. The path can be either absolute or relative to the location of the `.csv` file.

## Running a pipeline

Pushing _Run_ will begin executing the pipeline on each row of the `.csv` file. To do this a new instance of slicer will be created to provide a clean environement for running the pipeline. The progress of the pipeline will be displayed in the _Overall Progress_ bar. Each full bar indicates one case being completed and the text in the bar will show `<current case>/<total cases>`. Calculation can be stopped by using the _Cancel_ button.

Note that for each row, every column needs to be filled out for the case to run. The iterator will emit an error and skip a row if there are issues with parsing a value or loading a file the. The resulting output will only contain the cases that were run.

Any resulting node data will be stored in the output directory, all resulting scalars will be stored in the `.csv` file in the output directory (including paths to the appropriate files for each case)

## Optional Settings

The _Output Prefix_, _Output Suffix_, and _Output Extension_ fields allow for the customization of the output files. The _Output Prefix_ and _Output Suffix_ will be added to the beginning and end of the output files respectively. With _Add Timestamp_ checkbox enabled the current date and time will be added to the output files.